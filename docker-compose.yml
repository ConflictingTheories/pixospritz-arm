version: '3.8'

services:
  pixospritz-build:
    build:
      context: ./pixospritz-rg35xx-knulli
      dockerfile: Dockerfile.arm64
    platform: linux/arm64
    container_name: pixospritz-build
    volumes:
      - .:/workspace # Mount the entire project root to /workspace
    working_dir: /build
    environment:
      - LINUX_KERNEL_VERSION=4.9.170
    # Keep container running so you can exec into it
    stdin_open: true
    tty: true
    entrypoint: /bin/bash
    mem_limit: 8g
    mem_reservation: 4g
